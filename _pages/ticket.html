---
layout: page
title: Javascript Ticket
permalink: /Javascript-Ticket/
---

<!DOCTYPE html>
<html>
<head>
    <title>Snake Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background-color: #f2f2f2;
        }

        #game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #game-board {
            position: relative;
            width: 400px;
            height: 400px;
            border: 2px solid #333;
            background-color: #ddd;
            display: grid;
            grid-template-columns: repeat(20, 1fr);
        }

        .snake, .food {
            position: absolute;
            width: 18px;
            height: 18px;
            background-color: #4CAF50;
            border-radius: 50%;
        }

        .food {
            background-color: #FF5722;
        }

        #score-container {
            margin-top: 20px;
            font-size: 20px;
            font-weight: bold;
        }

        #best-score-container {
            font-size: 16px;
            margin-top: 10px;
        }

        #score-table {
            margin-bottom: 20px;
        }

        #score-table td {
            padding: 5px 10px;
            text-align: center;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <h1>Snake Game</h1>
        <table id="score-table">
            <tr>
                <td>Score:</td>
                <td id="score">0</td>
            </tr>
            <tr>
                <td>Best Score:</td>
                <td id="best-score">0</td>
            </tr>
        </table>
        <div id="game-board"></div>
    </div>

    <script>
    // game variables
    var gridSize = 20; // size of each grid cell
    var gridWidth = 400 / gridSize; // number of grid cells horizontally
    var gridHeight = 400 / gridSize; // number of grid cells vertically
    var snake = [{ x: 0, y: 0 }]; // initial snake position
    var food = { x: 0, y: 0 }; // initial food position
    var direction = "right"; // initial direction of the snake
    var gameLoop; // variable to store the game loop interval
    var score = 0; // current score
    var bestScore = 0; // best score

    // initialize the game
    function init() {
        bestScore = getBestScoreFromLocalStorage(); // retrieve the best score from localStorage
        document.getElementById("best-score").innerText = bestScore; // display the best score on the page

        createFood(); // create initial food
        gameLoop = setInterval(update, 100); // start the game loop to update the game state
        document.addEventListener("keydown", changeDirection); // listen for keyboard events

        var restartButton = document.getElementById("restart-button"); // get the restart button element
        restartButton.addEventListener("click", restartGame); // add click event listener to restart the game
    }

    // restart the game
    function restartGame() {
        clearInterval(gameLoop); // clear the game loop interval
        snake = [{ x: 0, y: 0 }]; // reset the snake position
        direction = "right"; // reset the direction
        score = 0; // reset the score
        document.getElementById("score").innerText = score; // update the score display
        createFood(); // create new food
        gameLoop = setInterval(update, 100); // start the game loop again
    }

    // create food at a random position
    function createFood() {
        food.x = Math.floor(Math.random() * gridWidth); // generate random x coordinate
        food.y = Math.floor(Math.random() * gridHeight); // generate random y coordinate
    }

    // update the game state
    function update() {
        var head = { x: snake[0].x, y: snake[0].y }; // current head position

        // update the snake's head position based on the current direction
        switch (direction) {
            case "up":
                head.y--;
                break;
            case "down":
                head.y++;
                break;
            case "left":
                head.x--;
                break;
            case "right":
                head.x++;
                break;
        }

        // check if the snake has collided with the walls or itself
        if (
            head.x < 0 ||
            head.x >= gridWidth ||
            head.y < 0 ||
            head.y >= gridHeight ||
            checkCollision(head)
        ) {
            gameOver();
            return;
        }

        // check if the snake has eaten the food
        if (head.x === food.x && head.y === food.y) {
            score++;
            document.getElementById("score").innerText = score; // update the score display
            createFood(); // generate new food
        } else {
            snake.pop(); // remove the tail segment if the snake hasn't eaten the food
        }

        snake.unshift(head); // add the new head segment to the snake

        draw(); // update the game board
    }

    // check if the snake has collided with itself
    function checkCollision(head) {
        for (var i = 1; i < snake.length; i++) {
            if (head.x === snake[i].x && head.y === snake[i].y) {
                return true;
            }
        }
        return false;
    }

    // end the game
    function gameOver() {
        clearInterval(gameLoop); // clear the game loop interval
        updateBestScore(); // update the best score
        alert("Game Over!");
    }

    // draw the game board
    function draw() {
        var gameBoard = document.getElementById("game-board");
        gameBoard.innerHTML = "";

        // draw the snake
        snake.forEach(function (segment) {
            var snakeSegment = document.createElement("div");
            snakeSegment.className = "snake";
            snakeSegment.style.left = segment.x * gridSize + "px";
            snakeSegment.style.top = segment.y * gridSize + "px";
            gameBoard.appendChild(snakeSegment);
        });

        // draw the food
        var foodElement = document.createElement("div");
        foodElement.className = "food";
        foodElement.style.left = food.x * gridSize + "px";
        foodElement.style.top = food.y * gridSize + "px";
        gameBoard.appendChild(foodElement);
    }

    // change the direction of the snake based on keyboard input
    function changeDirection(event) {
        var keyPressed = event.key.toLowerCase();

        if (keyPressed === "a" && direction !== "right") {
            direction = "left";
        } else if (keyPressed === "w" && direction !== "down") {
            direction = "up";
        } else if (keyPressed === "d" && direction !== "left") {
            direction = "right";
        } else if (keyPressed === "s" && direction !== "up") {
            direction = "down";
        }
    }

    // update the best score and store it in localStorage
    function updateBestScore() {
        if (score > bestScore) {
            bestScore = score;
            document.getElementById("best-score").innerText = bestScore; // update the best score display
            setBestScoreInLocalStorage(bestScore); // store the best score in localStorage
        }
    }

    // store the best score in localStorage
    function setBestScoreInLocalStorage(score) {
        localStorage.setItem("bestScore", score);
    }

    // retrieve the best score from localStorage
    function getBestScoreFromLocalStorage() {
        return localStorage.getItem("bestScore") || 0;
    }

    // start the game
    init();

    </script>
</body>
</html>
